{"title":"03 requests模块","uid":"8e5d7e29f88fd25cfeebd45eb9db59f9","slug":"python爬虫/03 第一个简单的爬虫程序","date":"2022-08-30T12:30:00.000Z","updated":"2022-09-01T14:37:30.775Z","comments":true,"path":"api/articles/python爬虫/03 第一个简单的爬虫程序.json","keywords":null,"cover":null,"content":"<h1 id=\"第一个简单的爬虫程序\"><a href=\"#第一个简单的爬虫程序\" class=\"headerlink\" title=\"第一个简单的爬虫程序\"></a>第一个简单的爬虫程序</h1><h2 id=\"步骤\"><a href=\"#步骤\" class=\"headerlink\" title=\"步骤\"></a>步骤</h2><h3 id=\"指定url\"><a href=\"#指定url\" class=\"headerlink\" title=\"指定url\"></a>指定url</h3><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">#指定url\nurl &#x3D; &#39;https:&#x2F;&#x2F;www.sogou.com&#x2F;web?&#39;</code></pre>\n\n\n\n<h3 id=\"User-Agent伪装\"><a href=\"#User-Agent伪装\" class=\"headerlink\" title=\"User-Agent伪装\"></a>User-Agent伪装</h3><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">#UA伪装\nheaders &#x3D; &#123;\n    &#39;User-Agent&#39;: &#39;Mozilla&#x2F;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;104.0.0.0 Safari&#x2F;537.36&#39;\n&#125;</code></pre>\n\n\n\n<h3 id=\"响应发起请求\"><a href=\"#响应发起请求\" class=\"headerlink\" title=\"响应发起请求\"></a>响应发起请求</h3><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">#获取请求响应\nresponse &#x3D; requests.get(url &#x3D; url,params &#x3D; param,headers &#x3D; headers) #get返回一个响应对象</code></pre>\n\n\n\n<h3 id=\"获取响应数据\"><a href=\"#获取响应数据\" class=\"headerlink\" title=\"获取响应数据\"></a>获取响应数据</h3><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">page_text &#x3D; response.text #获取字符串形式的响应数据</code></pre>\n\n\n\n<h3 id=\"持久化储存\"><a href=\"#持久化储存\" class=\"headerlink\" title=\"持久化储存\"></a>持久化储存</h3><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">with open(fileName,&#39;w&#39;,encoding &#x3D; &#39;utf-8&#39;) as fp:\n    fp.write(page_text)</code></pre>\n\n<h2 id=\"完整代码\"><a href=\"#完整代码\" class=\"headerlink\" title=\"完整代码\"></a>完整代码</h2><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">import requests\n\n#指定url\nurl &#x3D; &#39;https:&#x2F;&#x2F;www.sogou.com&#x2F;web?&#39;\n#UA伪装\nheaders &#x3D; &#123;\n    &#39;User-Agent&#39;: &#39;Mozilla&#x2F;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;104.0.0.0 Safari&#x2F;537.36&#39;\n&#125;\n\nkw &#x3D; input(&quot;请输入一个关键词: &quot;)\nparam &#x3D; &#123;\n    &#39;query&#39;:kw\n&#125;\nfileName &#x3D; kw+&#39;.html&#39;\n#获取请求响应\nresponse &#x3D; requests.get(url &#x3D; url,params &#x3D; param,headers &#x3D; headers) #get放回一个响应对象\npage_text &#x3D; response.text #获取字符串形式的响应数据\nwith open(fileName,&#39;w&#39;,encoding &#x3D; &#39;utf-8&#39;) as fp:\n    fp.write(page_text)\n\nprint(fileName,&#39;save successfully&#39;)\n</code></pre>\n\n","feature":true,"text":"第一个简单的爬虫程序步骤指定url#指定url url &#x3D; &#39;https:&#x2F;&#x2F;www.sogou.com&#x2F;web?&#39; User-Agent伪装#UA伪装 headers &#x3D; &#123; &#39;User-Age...","link":"","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"计算机","slug":"计算机","count":5,"path":"api/categories/计算机.json"},{"name":"Python爬虫","slug":"计算机/Python爬虫","count":3,"path":"api/categories/计算机/Python爬虫.json"}],"tags":[{"name":"笔记","slug":"笔记","count":8,"path":"api/tags/笔记.json"},{"name":"Python爬虫","slug":"Python爬虫","count":3,"path":"api/tags/Python爬虫.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB%E7%A8%8B%E5%BA%8F\"><span class=\"toc-text\">第一个简单的爬虫程序</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%AD%A5%E9%AA%A4\"><span class=\"toc-text\">步骤</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%8C%87%E5%AE%9Aurl\"><span class=\"toc-text\">指定url</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#User-Agent%E4%BC%AA%E8%A3%85\"><span class=\"toc-text\">User-Agent伪装</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%93%8D%E5%BA%94%E5%8F%91%E8%B5%B7%E8%AF%B7%E6%B1%82\"><span class=\"toc-text\">响应发起请求</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%8E%B7%E5%8F%96%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\">获取响应数据</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%8C%81%E4%B9%85%E5%8C%96%E5%82%A8%E5%AD%98\"><span class=\"toc-text\">持久化储存</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81\"><span class=\"toc-text\">完整代码</span></a></li></ol></li></ol>","author":{"name":"Chan_Honman","slug":"blog-author","avatar":"/images/avatar.jpeg","link":"/","description":"这家伙很坏 什么都没留下","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Vue基础入门","uid":"3a13b25df3ae48dbca78c649405861eb","slug":"Vue/Vue基础入门","date":"2022-09-01T13:30:00.000Z","updated":"2022-09-01T15:36:09.318Z","comments":true,"path":"api/articles/Vue/Vue基础入门.json","keywords":null,"cover":[],"text":"Vue.js基础入门1⃣️ 什么是Vue​ Vue读音类似View，是一套用于构建用户界面的渐进式框架与其他大型框架（Angular、React…）相比,Vue被设计为可以自底向上逐层应用。而其他大型框架需要一开始就对项目的技术方案进行强制性的要求，Vue则更灵活，我们既可以选择Vu...","link":"","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[{"name":"计算机","slug":"计算机","count":5,"path":"api/categories/计算机.json"},{"name":"Vue","slug":"计算机/Vue","count":1,"path":"api/categories/计算机/Vue.json"}],"tags":[{"name":"笔记","slug":"笔记","count":8,"path":"api/tags/笔记.json"},{"name":"Vue","slug":"Vue","count":1,"path":"api/tags/Vue.json"}],"author":{"name":"Chan_Honman","slug":"blog-author","avatar":"/images/avatar.jpeg","link":"/","description":"这家伙很坏 什么都没留下","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"02requests模块","uid":"23171b59c9fe8952c68769d33318ce65","slug":"python爬虫/02 requests模块","date":"2022-08-30T11:00:00.000Z","updated":"2022-08-30T15:52:36.106Z","comments":true,"path":"api/articles/python爬虫/02 requests模块.json","keywords":null,"cover":null,"text":"02 requests模块request模块是什么？python中原生的一款基于网络请求的模块 在python内置模块的基础上进行了高度的封装，从而使得python进行网络请求时，变得人性化，使用Requests可以轻而易举的完成浏览器可有的任何操作。 作用：模拟浏览器向服务器发...","link":"","photos":[],"count_time":{"symbolsCount":944,"symbolsTime":"1 mins."},"categories":[{"name":"计算机","slug":"计算机","count":5,"path":"api/categories/计算机.json"},{"name":"Python爬虫","slug":"计算机/Python爬虫","count":3,"path":"api/categories/计算机/Python爬虫.json"}],"tags":[{"name":"笔记","slug":"笔记","count":8,"path":"api/tags/笔记.json"},{"name":"Python爬虫","slug":"Python爬虫","count":3,"path":"api/tags/Python爬虫.json"}],"author":{"name":"Chan_Honman","slug":"blog-author","avatar":"/images/avatar.jpeg","link":"/","description":"这家伙很坏 什么都没留下","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}